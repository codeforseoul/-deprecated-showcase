<section class="ui page grid">
  <div class="ten wide column">
    <h1 class="ui dividing header">{{ project.get('title') }}<a class="ui {{ cat.get('label') }} label" ng-repeat="cat in project.cats">{{ cat.get('title') }}</a></h1>
    <p>{{ project.get('desc') }}</p>
  </div>
  <div class="four wide column">
    <h3 class="ui dividing header">기여자</h3>
    <div class="ui tiny horizontal list">
      <div class="item" ng-repeat="contributor in project.contributors">
        <div class="ui avatar image">
          <img src="http://semantic-ui.com/images/avatar/small/christian.jpg">
        </div>
        <div class="content">
          <a class="header">{{ contributor.get('nick') }}</a>
        </div>
      </div>
    </div>
    <h3 class="ui dividing header">참여 기록</h3>
    <div class="ui feed">
      <div class="event" ng-repeat="event in project.events">
        <div class="label">
          <img src="{{ event.actor.avatar_url }}">
        </div>
        <div class="content" ng-if="event.type == 'IssueCommentEvent'">
          <div class="summary">
            <a href="https://github.com/{{ event.actor.login }}" target="_blank" class="user">
              {{ event.actor.login }}
            </a>님이 <a href="{{ event.payload.issue.html_url }}">이슈 #{{ event.payload.issue.number }}, '{{ event.payload.issue.title }}'</a>에 댓글을 달았습니다.
            <div class="date">
              {{ event.created_at }}
            </div>
          </div>
          <!-- <div class="meta">
            <a class="like">
              <i class="like icon"></i> 4 Likes
            </a>
          </div> -->
        </div>
        <div class="content" ng-if="event.type == 'IssuesEvent'">
          <div class="summary">
            <a href="{{ event.payload.issue.user.html_url }}" target="_blank" class="user">
              {{ event.actor.login }}
            </a>님이 <a href="{{ event.payload.issue.html_url }}">이슈 #{{ event.payload.issue.number }}, '{{ event.payload.issue.title }}'</a>를 생성하였습니다.
            <div class="date">
              {{ event.created_at }}
            </div>
          </div>
          <div class="meta">
            <a class="ui label" ng-repeat="label in event.payload.issue.labels" style="background-color: #{{ label.color }} !important; color: white;">
              {{ label.name }}
            </a>
          </div>
        </div>
        <div class="content" ng-if="event.type == 'PushEvent'">
          <div class="summary">
            <a href="{{ event.payload.issue.user.html_url }}" target="_blank" class="user">
              {{ event.actor.login }}
            </a>님이 Push 하였습니다.
            <div class="date">
              {{ event.created_at }}
            </div>
          </div>
          <div class="meta">
            <a class="ui label">
              {{ event.payload.ref.split('/').pop() }}
            </a>
          </div>
        </div>
        <div class="content" ng-if="event.type == 'CreateEvent'">
          <div class="summary">
            <a href="{{ event.payload.issue.user.html_url }}" target="_blank" class="user">
              {{ event.actor.login }}
            </a>님이 새 {{ event.payload.ref_type }}을 생성하였습니다.
            <div class="date">
              {{ event.created_at }}
            </div>
          </div>
          <div class="meta">
            <a class="ui label">
              {{ event.payload.ref }}
            </a>
          </div>
        </div>
        <div class="content" ng-if="event.type == 'ForkEvent'">
          <div class="summary">
            <a href="{{ event.payload.issue.user.html_url }}" target="_blank" class="user">
              {{ event.actor.login }}
            </a>님이 <a href="{{ event.payload.forkee.html_url }}">포크</a>하였습니다.
            <div class="date">
              {{ event.created_at }}
            </div>
          </div>
          <!-- <div class="meta">
            <a class="ui label">
              {{ event.payload.ref }}
            </a>
          </div> -->
        </div>
        <div class="content" ng-if="event.type == 'WatchEvent'">
          <div class="summary">
            <a href="{{ event.payload.issue.user.html_url }}" target="_blank" class="user">
              {{ event.actor.login }}
            </a>님이 'Watch'하였습니다.
            <div class="date">
              {{ event.created_at }}
            </div>
          </div>
          <!-- <div class="meta">
            <a class="ui label">
              {{ event.payload.ref }}
            </a>
          </div> -->
        </div>
      </div>
    </div>
  </div>
</section>
